<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Graph Gurus">

<title>Drought in Arizona</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Drought in Arizona</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="./index.html" rel="" target="" aria-current="page">
 <span class="menu-text">Project</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./proposal.html" rel="" target="">
 <span class="menu-text">Proposal</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./presentation.html" rel="" target="">
 <span class="menu-text">Presentation</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./about.html" rel="" target="">
 <span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="https://swethasiripurapu.shinyapps.io/ShinyApp/" rel="" target="">
 <span class="menu-text">ShinyApp</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/INFO526-DataViz/project-01" rel="" target=""><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#abstract" id="toc-abstract" class="nav-link active" data-scroll-target="#abstract">Abstract</a></li>
  <li><a href="#introduction" id="toc-introduction" class="nav-link" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#motivation" id="toc-motivation" class="nav-link" data-scroll-target="#motivation">Motivation</a></li>
  <li><a href="#motive" id="toc-motive" class="nav-link" data-scroll-target="#motive">Motive</a></li>
  <li><a href="#analysis" id="toc-analysis" class="nav-link" data-scroll-target="#analysis">Analysis</a>
  <ul class="collapse">
  <li><a href="#question-1-how-has-the-severity-of-drought-changed-over-time-in-arizona" id="toc-question-1-how-has-the-severity-of-drought-changed-over-time-in-arizona" class="nav-link" data-scroll-target="#question-1-how-has-the-severity-of-drought-changed-over-time-in-arizona"><em>Question 1: How has the severity of drought changed over time in Arizona?</em></a></li>
  </ul></li>
  <li><a href="#preprocess-the-data-to-obtain-year" id="toc-preprocess-the-data-to-obtain-year" class="nav-link" data-scroll-target="#preprocess-the-data-to-obtain-year">Preprocess the data to obtain Year</a></li>
  <li><a href="#calculate-the-yearly-average-for-each-drought-level-including-none" id="toc-calculate-the-yearly-average-for-each-drought-level-including-none" class="nav-link" data-scroll-target="#calculate-the-yearly-average-for-each-drought-level-including-none">Calculate the yearly average for each drought level including ‘None’</a></li>
  <li><a href="#normalize-the-values-to-percentages" id="toc-normalize-the-values-to-percentages" class="nav-link" data-scroll-target="#normalize-the-values-to-percentages">Normalize the values to percentages</a></li>
  <li><a href="#filter-county-data" id="toc-filter-county-data" class="nav-link" data-scroll-target="#filter-county-data">Filter county data</a></li>
  <li><a href="#convert-ggplot-to-plotly-for-animation" id="toc-convert-ggplot-to-plotly-for-animation" class="nav-link" data-scroll-target="#convert-ggplot-to-plotly-for-animation">Convert ggplot to plotly for animation</a>
  <ul class="collapse">
  <li><a href="#question-2-what-are-the-most-affected-areas-in-arizona-in-terms-of-drought-severity" id="toc-question-2-what-are-the-most-affected-areas-in-arizona-in-terms-of-drought-severity" class="nav-link" data-scroll-target="#question-2-what-are-the-most-affected-areas-in-arizona-in-terms-of-drought-severity"><em>Question 2: What are the most affected areas in Arizona in terms of drought severity?</em></a></li>
  <li><a href="#analysis-1" id="toc-analysis-1" class="nav-link" data-scroll-target="#analysis-1">Analysis</a></li>
  <li><a href="#question-3-is-there-a-correlation-between-drought-severity-and-certain-times-of-the-year" id="toc-question-3-is-there-a-correlation-between-drought-severity-and-certain-times-of-the-year" class="nav-link" data-scroll-target="#question-3-is-there-a-correlation-between-drought-severity-and-certain-times-of-the-year">Question 3: <em>Is there a correlation between drought severity and certain times of the year?</em></a></li>
  <li><a href="#approach-1" id="toc-approach-1" class="nav-link" data-scroll-target="#approach-1">Approach:</a></li>
  <li><a href="#interpretation" id="toc-interpretation" class="nav-link" data-scroll-target="#interpretation">Interpretation</a></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">Conclusion</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Drought in Arizona</h1>
<p class="subtitle lead">INFO 526 - Project Final</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Graph Gurus </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<section id="load-data-and-libraries" class="level5">
<h5 class="anchored" data-anchor-id="load-data-and-libraries">Load Data and Libraries</h5>
<p>{r load packages and data, message=FALSE, warning=FALSE}</p>
<p>if (!require(pacman)) install.packages(pacman)</p>
<p>pacman::p_load(tidyverse, formattable, dlookr, readxl, writexl)</p>
<p>library(shiny) library(ggplot2) library(thematic) library(ragg) library(readr) library(stringr) library(shinydashboard) library(leaflet) library(plotly) library(readxl) library(tidyr) library(sf) library(dplyr) library(geojsonio)</p>
<p>drought_df &lt;- read_excel(“Shiny App/data/drought_data.xlsx”, sheet = “Total Area by County”) percent_drought_df &lt;- read_excel(“Shiny App/data/drought_data.xlsx”, sheet = “Percent Area by County”) # Load GeoJSON data for Arizona counties arizona_counties &lt;- st_read(“Shiny App/data/arizona-with-county-boundaries_1085.geojson”)</p>
</section>
<section id="abstract" class="level2">
<h2 class="anchored" data-anchor-id="abstract">Abstract</h2>
<p>This project aims to explore and interpret the data on Arizona’s enduring drought conditions, a climatic challenge that disrupts the balance of life and has adverse effects on the state’s future. The investigation is driven by a combination of curiosity and the recognition of water scarcity as an issue that is deeply connected to Arizona’s residents. By exploring this database, we seek to gain valuable insights into the dynamic nature of Arizona’s drought experiences.</p>
<p>We aim to create easy-to-understand visuals that depict the current situation and stimulate thinking about potential solutions. A close examination of how different areas are dealing with water shortages will help us determine where to focus our efforts to contribute to the mitigation of this issue. Through this project, we hope to shed light on the severity of the drought and inspire action towards sustainable water management practices in Arizona.</p>
</section>
<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">Introduction</h2>
<p>Arizona is known for its dry weather, and for over 20 years, it’s been dealing with a serious drought. This isn’t just about the weather - it affects everything from nature to people’s jobs and the state’s economy. This drought reminds us of similar events in the 1900s and 1950s, and it’s clear that we need to take a closer look at what’s happening.</p>
<p>Our recent interactions with individuals actively raising awareness about the dire drought situation and the adverse effects of water wastage have further inspired this exploration. The project’s objective is not only to provide valuable data for our visualization but also to offer a profound understanding of the challenges faced by the state.</p>
</section>
<section id="motivation" class="level2">
<h2 class="anchored" data-anchor-id="motivation">Motivation</h2>
<p>We’re not just interested in this from a scientific point of view. People living in Arizona are genuinely worried about the lack of water, and we’ve been inspired by those who are passionate about saving water. We want to dig deeper into this important issue. Our goal isn’t just to analyze data; we want to understand the big challenges Arizona is facing and share this information with others.</p>
</section>
<section id="motive" class="level2">
<h2 class="anchored" data-anchor-id="motive">Motive</h2>
<p>Our main goal with this project is to raise awareness and encourage action. We’re not just making a data visualization; we want to change how people think, start conversations, and help everyone understand how serious Arizona’s drought is. By creating an interactive dashboard about the drought, we hope to help users interact with the data, understand the trends, and think about possible solutions. In the end, we want to encourage everyone, from ordinary people to policymakers, to take steps towards managing water resources in a sustainable way.</p>
</section>
<section id="analysis" class="level2">
<h2 class="anchored" data-anchor-id="analysis">Analysis</h2>
<section id="question-1-how-has-the-severity-of-drought-changed-over-time-in-arizona" class="level3">
<h3 class="anchored" data-anchor-id="question-1-how-has-the-severity-of-drought-changed-over-time-in-arizona"><em>Question 1: How has the severity of drought changed over time in Arizona?</em></h3>
<p>The variability of drought over time is a critical aspect of climate patterns, especially for arid regions like Arizona. This variability can have profound effects on water allocation, agricultural planning, and natural ecosystems. While historical trends have been studied, the nuanced changes within these trends, and the frequency and intensity of extreme drought conditions, remain areas requiring deeper exploration. In recent years, technological advances and data collection efforts have provided an unprecedented amount of climatic data, offering new opportunities to analyze drought patterns with greater precision. This wealth of data paves the way for more detailed temporal analysis, allowing for a better understanding of the cyclical nature and potential shifts in drought severity.</p>
<section id="approach" class="level4">
<h4 class="anchored" data-anchor-id="approach">Approach:</h4>
<p>To answer how drought severity has shifted over time in Arizona, we initiated a time series analysis focusing on yearly data aggregated across the state’s counties. We meticulously preprocessed the drought data, first by extracting the year from each record, then by computing yearly averages for each drought level, including the ‘None’ category. To ensure comparability across years and counties, we normalized these figures into percentages, painting a clearer picture of annual drought severity changes. With this foundation, we crafted a color-coded stacked bar chart, each hue representing a different drought level, providing an immediate visual understanding of how these levels stack up year over year. Concurrently, we developed a time series plot that layers these annual percentages, offering a dynamic portrayal of drought trends over the decades and inviting an interactive exploration of the data for more nuanced insights.</p>
</section>
<section id="analysis-for-q1" class="level4">
<h4 class="anchored" data-anchor-id="analysis-for-q1">Analysis for Q1</h4>
<p>{r data preprocessing, warning=FALSE, message=FALSE}</p>
</section>
</section>
</section>
<section id="preprocess-the-data-to-obtain-year" class="level1">
<h1>Preprocess the data to obtain Year</h1>
<p>drought_df &lt;- drought_df %&gt;% mutate(Year = format(as.Date(Date), “%Y”))</p>
</section>
<section id="calculate-the-yearly-average-for-each-drought-level-including-none" class="level1">
<h1>Calculate the yearly average for each drought level including ‘None’</h1>
<p>yearly_data &lt;- drought_df %&gt;% group_by(Year, County) %&gt;% summarise(across(c(None:D4), mean, na.rm = TRUE)) %&gt;% pivot_longer(cols = c(None:D4), names_to = “Drought_Level”, values_to = “Value”)</p>
</section>
<section id="normalize-the-values-to-percentages" class="level1">
<h1>Normalize the values to percentages</h1>
<p>yearly_data &lt;- yearly_data %&gt;% group_by(Year, County) %&gt;% mutate(Percentage = Value / sum(Value) * 100) %&gt;% ungroup()</p>
<p>{r define color palette, warning=FALSE, message=FALSE}</p>
<p>drought_colors &lt;- c( “None” = “#FFFFFF”, # Assuming ‘None’ is white “D0” = “#FFFF00”, # Yellow “D1” = “#FFA500”, # Orange “D2” = “#FF0000”, # Red “D3” = “#8B0000”, # Dark Red “D4” = “#654321” # Brown )</p>
<section id="barplot" class="level5">
<h5 class="anchored" data-anchor-id="barplot">BARPLOT</h5>
<p>{r stacked bar plot, message=FALSE, warning=FALSE}</p>
<p>#Plot ggplot(yearly_data, aes(x = Year, y = Percentage, fill = Drought_Level)) + geom_bar(stat = “identity”, position = “fill”) + scale_fill_manual(values = drought_colors) + scale_y_continuous(labels = scales::percent_format()) + labs(title = “Average Yearly Drought Levels”, x = “Year”, y = “Percentage”, fill = “Drought Level”) + theme_minimal() + theme(axis.text.x = element_text(angle = 90, vjust = 0.5))</p>
</section>
<section id="timeseries-plot" class="level5">
<h5 class="anchored" data-anchor-id="timeseries-plot">TIMESERIES PLOT</h5>
<p>{r timeseries plot, message=FALSE, warning=FALSE}</p>
</section>
</section>
<section id="filter-county-data" class="level1">
<h1>Filter county data</h1>
<p>county_data &lt;- drought_df %&gt;% group_by(Year, County) %&gt;% summarise(across(c(None:D4), mean, na.rm = TRUE)) %&gt;% pivot_longer(cols = c(None:D4), names_to = “Drought_Level”, values_to = “Value”) %&gt;% mutate(Percentage = Value / sum(Value) * 100) %&gt;% ungroup()</p>
<pre><code>county_data$Year &lt;- as.Date(paste0(county_data$Year, "-01-01"))</code></pre>
<p>#Plot p &lt;- ggplot(county_data, aes(x = Year, y = Percentage, fill = Drought_Level)) + geom_area(alpha = 0.7, stat = “identity”) + scale_fill_manual(values = drought_colors) + scale_y_continuous(labels = function(x) paste0(x, “%”)) + labs(x = “Year”, y = “Percentage”, title = paste(“Drought Level over the years”)) + theme_minimal() + theme(legend.position = “right”, plot.title = element_text(hjust = 0.6, size = 12), legend.text = element_text(size = 8), legend.title = element_text(size = 10)) + guides(fill = guide_legend(title.position = “top”, title.hjust = 0.5))</p>
</section>
<section id="convert-ggplot-to-plotly-for-animation" class="level1">
<h1>Convert ggplot to plotly for animation</h1>
<p>p &lt;- ggplotly(p, tooltip = “all”, dynamicTicks = TRUE)</p>
<section id="question-2-what-are-the-most-affected-areas-in-arizona-in-terms-of-drought-severity" class="level3">
<h3 class="anchored" data-anchor-id="question-2-what-are-the-most-affected-areas-in-arizona-in-terms-of-drought-severity"><em>Question 2: What are the most affected areas in Arizona in terms of drought severity?</em></h3>
<p>While our initial analysis highlighted the temporal dynamics of drought in Arizona, we realized that understanding the spatial distribution of drought severity across different counties was equally crucial. This line of inquiry is particularly important because drought impacts vary significantly across regions due to diverse geographical and climatic conditions. For example, some counties might consistently experience higher levels of severe drought categories (such as D3 or D4), indicating a greater vulnerability to drought effects.</p>
</section>
<section id="analysis-1" class="level3">
<h3 class="anchored" data-anchor-id="analysis-1">Analysis</h3>
<p>Our approach to this question involves a detailed analysis using a donut plot integrated with a Leaflet map. We start by processing our drought data to calculate the proportion of each drought severity level within individual counties. This involves summarizing the area affected by each drought level for a selected county and then transforming these values into percentages. The resultant donut plot provides a clear visual representation of the drought severity distribution within the selected county.</p>
<p>When a user interacts with the Leaflet map and selects a county, the donut plot dynamically updates to display the percentage breakdown of drought levels for that particular area. This interactive feature is crucial for understanding the specific drought conditions in different parts of Arizona, allowing us to identify which counties are most severely affected.</p>
<section id="analysis-for-q2" class="level4">
<h4 class="anchored" data-anchor-id="analysis-for-q2">Analysis for Q2</h4>
<p>{r donut plot : preprocessing} #Calculate percentages</p>
<pre><code>drought_totals &lt;- drought_df %&gt;% 
  summarise(D0 = sum(D0, na.rm = TRUE),
            D1 = sum(D1, na.rm = TRUE),
            D2 = sum(D2, na.rm = TRUE),
            D3 = sum(D3, na.rm = TRUE),
            D4 = sum(D4, na.rm = TRUE),
            None = sum(None, na.rm = TRUE)) %&gt;%
  pivot_longer(cols = everything(), names_to = "Drought_Level", values_to = "Area")

# Calculate percentages
total_area &lt;- sum(drought_totals$Area)
drought_totals &lt;- drought_totals %&gt;%
  mutate(Percentage = Area / total_area * 100)</code></pre>
<section id="leaflet-plot" class="level5">
<h5 class="anchored" data-anchor-id="leaflet-plot">LEAFLET PLOT</h5>
<p>{r Leaflet }</p>
<pre><code>leaflet() %&gt;%
  setView(lng = -111.6646, lat = 34.0489, zoom = 6) %&gt;%
  addTiles() %&gt;%
  addPolygons(data = arizona_counties,
              group = "counties",
              options = pathOptions(weight = 0.5, color = "white", fillOpacity = 1, fillColor = "orange"),
              label = ~name
  ) %&gt;%
  addLabelOnlyMarkers(data = arizona_counties,
                      lng = ~st_coordinates(st_centroid(geometry))[1],
                      lat = ~st_coordinates(st_centroid(geometry))[2],
                      label = ~name, labelOptions = labelOptions(noHide = TRUE, textOnly = TRUE))</code></pre>
</section>
<section id="donut-plot" class="level5">
<h5 class="anchored" data-anchor-id="donut-plot">DONUT PLOT</h5>
<p>{r donut plot}</p>
<p>ggplot(drought_totals, aes(x = 2, y = Percentage, fill = Drought_Level)) + geom_bar(stat = “identity”, width = 1) + coord_polar(theta = “y”) + theme_void() + scale_fill_manual(values = drought_colors) + geom_text(aes(label = sprintf(“%0.2f%%”, Percentage)), position = position_stack(vjust = 0.5)) + xlim(c(0.15, 2.5))</p>
<p>This spatial analysis is not only critical for current drought management strategies but also sets the foundation for our next line of inquiry. Understanding the distribution of drought severity levels in different counties leads us naturally to Question 3, where we explore whether there’s a correlation between drought severity and specific times of the year.</p>
</section>
</section>
</section>
<section id="question-3-is-there-a-correlation-between-drought-severity-and-certain-times-of-the-year" class="level3">
<h3 class="anchored" data-anchor-id="question-3-is-there-a-correlation-between-drought-severity-and-certain-times-of-the-year">Question 3: <em>Is there a correlation between drought severity and certain times of the year?</em></h3>
<p>Building on our understanding of drought severity distribution across Arizona’s counties, we aim to further examine if these drought conditions correlate with particular times of the year. This investigation is crucial for identifying seasonal patterns in drought severity, which can inform more effective drought management and preparedness strategies.</p>
</section>
<section id="approach-1" class="level3">
<h3 class="anchored" data-anchor-id="approach-1">Approach:</h3>
<p>In addressing Question 3, our focus shifted to understanding if drought severity in Arizona correlates with specific times of the year, a crucial aspect for planning and mitigating drought impacts effectively. To analyse, we utilized a choropleth map, a powerful tool for visualizing geographical data, which shows drought severity levels across different counties on selected dates. We began with preprocessing of the geospatial drought data and then we streamlined the dataset by renaming and selecting essential columns, ensuring data types were consistent for accurate mapping. We then merged this data with detailed geographic information of Arizona counties, assigning weights to each drought level to compute a ‘Drought Score.’ This score was normalized to provide a consistent scale for comparison across counties. By incorporating user-selected dates, our choropleth map dynamically reflects the drought severity for any given day, visually represented through color gradients corresponding to different drought levels. This interactive and detailed visualization allows us to investigate if certain times of the year are consistently more prone to severe drought conditions, thereby addressing the question of seasonal correlation with drought severity in Arizona.</p>
<section id="analysis-for-q3" class="level4">
<h4 class="anchored" data-anchor-id="analysis-for-q3">Analysis for Q3</h4>
<p>{r Data preprocessing for Chloropleth map}</p>
<p>#Rename Column from name to County arizona_counties_new &lt;- dplyr::rename(arizona_counties, County = name)</p>
<p>#Drop all columns ecept County and geometry arizona_counties_new &lt;- arizona_counties_new %&gt;% select(County, geometry)</p>
<p>#Convert to req data types percent_drought_df<span class="math inline">\(County &lt;- as.character(percent_drought_df\)</span>County) arizona_counties_new<span class="math inline">\(County &lt;- as.character(arizona_counties_new\)</span>County) percent_drought_df<span class="math inline">\(Date&lt;- as.Date(percent_drought_df\)</span>Date)</p>
<p>drought_data_geospatial &lt;- percent_drought_df %&gt;% left_join(arizona_counties_new, by = “County”)</p>
<p># Assign weights to the drought levels drought_weights &lt;- c(None = 0, D0 = 1, D1 = 2, D2 = 3, D3 = 4, D4 = 5)</p>
<p># Calculate ‘Drought Score’ by multiplying the area percentages by the weights drought_data_geospatial &lt;- drought_data_geospatial %&gt;% mutate(Drought_Score = (None * drought_weights[[“None”]]) + (D0 * drought_weights[[“D0”]]) + (D1 * drought_weights[[“D1”]]) + (D2 * drought_weights[[“D2”]]) + (D3 * drought_weights[[“D3”]]) + (D4 * drought_weights[[“D4”]]))</p>
<p># Normalize ‘Drought Score’ # Assuming that the maximum possible score is 5 (for D4 at 100% coverage) drought_data_geospatial &lt;- drought_data_geospatial %&gt;% mutate(Normalized_Score = Drought_Score / max(Drought_Score))</p>
<p>#Make sure your date column is type date drought_data_geospatial<span class="math inline">\(Date &lt;- as.Date(drought_data_geospatial\)</span>Date)</p>
<section id="chloropleth-map" class="level5">
<h5 class="anchored" data-anchor-id="chloropleth-map">CHLOROPLETH MAP</h5>
<p>{r Chloropleth map}</p>
<p>#Pick a date of intreset for our report, passing as an input to shiny dates_of_interest &lt;- as.Date(c(“2005-04-26 UTC”))</p>
<p>#Filter with date drought_data_filtered &lt;- drought_data_geospatial %&gt;% filter(Date %in% dates_of_interest)</p>
<pre><code>  # Plot the map with ggplot2 and sf
ggplot(data = drought_data_filtered) +
  geom_sf(data = drought_data_filtered$geometry,
          aes(fill = drought_data_filtered$Normalized_Score), color = "black", size = 0.2) +
  scale_fill_gradientn(
    colors = drought_colors,
    name = "Drought Level",
    breaks = c(0, 1, 2, 3, 4, 5), 
    labels = c("None", "D0", "D1", "D2", "D3", "D4"), # Specifying the labels for the breaks
    limits = c(0, 5), 
    oob = scales::oob_squish
  ) +
  labs(title = paste("Drought Levels in Arizona on 2005-04-26")) +
  theme_minimal() +
  theme(
    legend.position = "right",
    axis.text.x = element_blank(),
    axis.text.y = element_blank(),
    axis.title.x = element_blank(),
    axis.title.y = element_blank(),
    axis.ticks = element_blank()
  )</code></pre>
<p><br>
</p>
</section>
</section>
</section>
<section id="interpretation" class="level2">
<h2 class="anchored" data-anchor-id="interpretation">Interpretation</h2>
<ol type="1">
<li><p>Short Term Drought Conditions:</p></li>
<li><p>Long Term Drought Conditions</p></li>
</ol>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<p>Our deep dive into Arizona’s drought conditions has given us a clear picture of a state struggling with long-term water shortages. Our interactive dashboard, which uses data visualization, has helped us understand this complex environmental issue. By analyzing data from the past twenty years, we’ve been able to track how drought severity has changed across different parts of Arizona, highlighting the problems faced by people, nature, and businesses.</p>
<p>Our detailed visualizations and statistical analyses have shown us just how serious the situation is. From slightly dry conditions to extreme drought, each stage has a growing impact on farming, water supplies, and the state’s overall health. The changing severity of the drought has not only put Arizona’s natural environment to the test but also called for immediate policy changes and community-led actions.</p>
<p>Our goal to involve, inform, and inspire action aligns with the need for teamwork. The data doesn’t just tell a story of hardship; it acts as a trigger for change. As we conclude this report, the need for sustainable management of water resources is clear. The responsibility falls not just on policymakers but on every citizen to adopt water-saving habits, encourage innovation, and support policies that protect Arizona’s water supply for the future.</p>
<p>In short, this project is more than just about drought data; it’s about our shared duty to protect Arizona’s vital water resources. The process of exploring and visualizing the data has highlighted the need for a coordinated approach. It’s a call to action, an invitation to turn knowledge into meaningful actions. We hope this report will act as a guide, leading us towards a future where Arizona is more resilient and mindful of water usage.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>